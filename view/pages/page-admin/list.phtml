<?php
/* @var $pages \DevCms\Entity\PageEntity[] */
$pages = $this->pages;
$this->Layout('layout/devcms/admin');
$this->Placeholder('DevCms_AdminLayout_Title')->append('Page Administration');
$this->HeadTitle('Page Administration');
?>
<? if(count($pages) === 0) { ?>
<div class="mdl-grid mdl-cell--12-col">
	<div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col">
		<div class="cell-padding">
			<p>There are currently no CMS pages.</p>
		</div>
	</div>
</div>
<? } else { ?>
<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" style="width:100%">
	<thead>
		<tr>
			<th class="mdl-data-table__cell--non-numeric">Label</th>
			<th class="mdl-data-table__cell--non-numeric">Actions</th>
		</tr>
	</thead>
	<tbody>
<?	foreach($pages as $page) { ?>
		<tr>
			<td class="mdl-data-table__cell--non-numeric"><?=$this->EscapeHtml($page->label)?></td>
			<td class="mdl-data-table__cell--non-numeric">
				<a href="<?=$this->Url('devcms-admin/page/edit',['id'=>$page->id])?>">Edit</a>
				|
				<a href="<?=$this->Url('devcms_page',['page_slug'=>$page->slug])?>">View</a>
			</td>
		</tr>
<?	} ?>
	</tbody>
</table>
<? } ?>
<div class="fixed-in-corner">
	<a href="<?=$this->Url('devcms-admin/page/create')?>" class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored">
		<i class="material-icons">add</i>
	</a>
</div>